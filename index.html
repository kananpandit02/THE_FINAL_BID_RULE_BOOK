<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>THE FINAL BID ‚Äì Official Rule Book</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- Icons -->
  <link rel="icon" href="favicon.ico">
  <link rel="icon" sizes="32x32" href="icon-32.png">
  <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#090979">

  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #020024, #090979, #00d4ff);
      color: #f4f6fb;
    }
    header {
      padding: 90px 20px;
      text-align: center;
      background: linear-gradient(135deg, #ff512f, #dd2476, #7f00ff);
    }
    .tagline {
      margin-top: 26px;
      padding: 12px 26px;
      border-radius: 50px;
      background: rgba(0,0,0,0.35);
      display: inline-block;
      font-weight: 700;
    }
    .container {
      max-width: 1250px;
      margin: 70px auto;
      padding: 0 20px;
    }
    .card {
      background: rgba(255,255,255,.12);
      border-radius: 24px;
      padding: 40px;
      margin-bottom: 42px;
    }
    h2 {
      color: #ffe082;
      border-left: 6px solid #ffe082;
      padding-left: 16px;
    }
    .badge {
      background: #ffd369;
      color: #000;
      padding: 7px 16px;
      border-radius: 20px;
      font-weight: 800;
      margin-right: 8px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td { padding: 10px; }
    th { background: #ffd369; color: #000; }
    footer {
      background: #000;
      padding: 40px;
      text-align: center;
      color: #bbb;
    }
  </style>
</head>

<body>

<nav style="position:sticky;top:0;background:rgba(0,0,0,.65);padding:14px 20px;display:flex;justify-content:space-between">
  <b>THE FINAL BID</b>
  <div>
    <a href="#overview" style="color:#ffd369;text-decoration:none;margin-left:14px">Overview</a>
    <a href="#playerpool" style="color:#ffd369;text-decoration:none;margin-left:14px">Player Pool</a>
  </div>
</nav>

<header>
  <div style="display:flex;justify-content:center;gap:40px;flex-wrap:wrap;margin-bottom:25px">
    <img src="perceptron_logo.png" height="80">
    <img src="rmv_university_logo.jpeg" height="80">
  </div>
  <h1>THE FINAL BID</h1>
  <h2>Cricket Auction Event</h2>
  <p>Official Rule Book</p>
  <div class="tagline">Bid Like a Boss ¬∑ Play Like a Pro ¬∑ Win Like a Legend</div>
</header>

<div class="container" id="overview">
  <div class="card">
    <h2>Event Affiliation</h2>
    Organized under <b>PERCEPTRON 2026</b>, Department of Computer Science,<br>
    Ramakrishna Mission Vivekananda University of Education & Research Institute.
  </div>
</div>

<!-- PLAYER POOL -->
<div class="container" id="playerpool">
  <div class="card">
    <h2>Participant Player Pool</h2>

    <!-- SEARCH (HIDDEN INITIALLY) -->
    <input id="searchInput" placeholder="üîç Search player / country / role"
      style="display:none;margin-top:16px;width:100%;padding:12px 16px;
      border-radius:22px;border:none;font-weight:600">

    <!-- TOTAL COUNT -->
    <div style="margin-top:14px">
      <span class="badge" id="totalCount" style="display:none;">Total: 0</span>
    </div>

    <!-- TOGGLE BUTTON -->
    <button id="togglePool"
      style="margin-top:16px;background:#00c6ff;border:none;
      padding:14px 32px;border-radius:30px;font-weight:800;cursor:pointer">
      üëÅÔ∏è View Player Pool
    </button>

    <!-- TABLE -->
    <table id="playerTable" style="display:none">
      <thead>
        <tr>
          <th>Player Name</th>
          <th>Country</th>
          <th>Role</th>
          <th>Base Price</th>
          <th>Base Points</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<footer>
  <b>PERCEPTRON 2026</b> ¬∑ Dept. of CS ¬∑ RMV University<br>
  ¬© THE FINAL BID
  <br><br>
  <button onclick="window.print()"
    style="background:#ffd369;border:none;padding:12px 26px;border-radius:30px;font-weight:800">
    ‚¨á Download PDF
  </button>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script>
const FILE = "AUCTION.xlsx";
let rows = [];
let visible = false;

const table = document.getElementById("playerTable");
const tbody = table.querySelector("tbody");
const btn = document.getElementById("togglePool");
const search = document.getElementById("searchInput");
const total = document.getElementById("totalCount");

btn.onclick = async () => {
  if (!visible) {
    if (rows.length === 0) {
      const r = await fetch(FILE);
      const b = await r.arrayBuffer();
      const wb = XLSX.read(b, { type: "array" });
      rows = XLSX.utils.sheet_to_json(
        wb.Sheets[wb.SheetNames[0]], { header: 1 }
      ).slice(1);
    }
    render(rows);
    table.style.display = "table";
    search.style.display = "block";
    total.style.display = "inline-block";
    btn.textContent = "üôà Hide Player Pool";
    visible = true;
  } else {
    table.style.display = "none";
    search.style.display = "none";
    total.style.display = "none";
    btn.textContent = "üëÅÔ∏è View Player Pool";
    visible = false;
  }
};

function render(data) {
  tbody.innerHTML = "";
  data.forEach(r => {
    if (!r) return;
    const tr = document.createElement("tr");
    r.slice(0,5).forEach(c => {
      const td = document.createElement("td");
      td.textContent = c ?? "";
      tr.appendChild(td);
    });
    tbody.appendChild(tr);
  });
  total.textContent = `Total: ${data.length}`;
}

search.oninput = e => {
  const q = e.target.value.toLowerCase();
  render(rows.filter(r => r.join(" ").toLowerCase().includes(q)));
};
</script>

</body>
</html>
